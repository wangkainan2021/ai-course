# 启动说明

## 前后端分离架构

### 项目结构
```
├── backend/          # 后端API服务
│   ├── server.js    # Express服务器
│   ├── package.json # 依赖配置
│   └── ...
├── frontend/         # 前端页面
│   ├── index.html   # 学生端（只显示导航）
│   └── admin.html   # 管理端（上传关卡、建课）
└── ...
```

## 启动步骤

### 1. 启动后端服务

```bash
cd backend
npm install
npm start
```

后端将在 http://localhost:3000 运行

### 2. 访问前端页面

#### 学生端
打开 `frontend/index.html` 文件（在浏览器中打开）

- 只显示顶部数字导航（1, 2, 3, 4...）
- 从后端API动态加载课程和关卡内容
- 支持三种关卡类型：
  - 图片关卡：左右切换图片
  - 视频关卡：播放视频
  - Canvas关卡：运行代码

#### 管理端
打开 `frontend/admin.html` 文件（在浏览器中打开）

- **上传关卡**：支持上传图片、视频、Canvas代码三种类型
- **创建课程**：从关卡库选择关卡组成课程
- **管理课程**：查看和删除已创建的课程

## 使用流程

### 第一步：上传关卡

1. 打开管理端（admin.html）
2. 选择关卡类型（图片/视频/Canvas）
3. 填写关卡信息并上传
4. 重复此步骤上传多个关卡

### 第二步：创建课程

1. 在管理端切换到"创建课程"标签
2. 填写课程名称和描述
3. 从关卡库中选择要包含的关卡（可多选）
4. 点击"创建课程"

### 第三步：学生端学习

1. 打开学生端（index.html）
2. 系统会自动加载第一个课程
3. 点击顶部数字导航切换不同关卡
4. 根据关卡类型进行学习

## API接口说明

### 课程管理
- `GET /api/courses` - 获取所有课程
- `POST /api/courses` - 创建课程
- `DELETE /api/courses/:id` - 删除课程

### 关卡管理
- `GET /api/levels` - 获取所有关卡
- `POST /api/levels/image` - 上传图片关卡
- `POST /api/levels/video` - 上传视频关卡
- `POST /api/levels/canvas` - 上传Canvas关卡

## 注意事项

1. **必须先启动后端服务**，前端才能正常工作
2. 上传的文件存储在 `backend/uploads/` 目录
3. 课程和关卡数据存储在 `backend/data/` 目录
4. 如果前端无法连接后端，检查：
   - 后端服务是否运行
   - API地址是否正确（默认：http://localhost:3000/api）
   - 浏览器控制台是否有错误信息

## 开发模式

如果需要开发模式（自动重启），使用：

```bash
cd backend
npm run dev
```

需要先安装 nodemon：
```bash
npm install -g nodemon
```
